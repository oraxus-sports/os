# Microfrontend Authentication Setup

## Overview
This project now uses a dedicated **auth microfrontend** for authentication with Module Federation.

## Structure

```
ui-plugins/
├── auth/                    # Authentication microfrontend (Port 3002)
│   ├── src/
│   │   ├── components/
│   │   │   ├── Login.jsx    # Login page with username/mobile/social options
│   │   │   └── SignUp.jsx   # Sign up page with email/password/social
│   │   ├── context/
│   │   │   └── AuthContext.jsx  # Shared authentication state
│   │   ├── hooks/
│   │   │   └── useAuth.js   # Authentication hook
│   │   ├── services/
│   │   │   └── authService.js  # API calls for auth
│   │   └── App.jsx
│   ├── package.json
│   └── webpack.config.js    # Exposes Login, SignUp, AuthProvider
│
├── components/              # Shared UI components (Port 3001)
│   └── src/components/
│       ├── Button.jsx
│       ├── Card.jsx
│       └── Login.jsx        # Old - can be removed
│
└── platform/                # Host application (Port 3000)
    ├── src/
    │   └── App.jsx          # Imports auth components via Module Federation
    ├── package.json
    └── webpack.config.js    # Consumes authApp remote

```

## Setup Instructions

### 1. Install Dependencies

```bash
# Auth microfrontend
cd ui-plugins/auth
npm install

# Platform (add react-router-dom if needed)
cd ../platform
npm install
```

### 2. Start Applications

You need to run all three microfrontends:

```bash
# Terminal 1 - Components microfrontend
cd ui-plugins/components
npm start  # Runs on port 3001

# Terminal 2 - Auth microfrontend
cd ui-plugins/auth
npm start  # Runs on port 3002

# Terminal 3 - Platform host
cd ui-plugins/platform
npm start  # Runs on port 3000
```

### 3. Access the Application

- **Platform**: http://localhost:3000
- **Auth Standalone**: http://localhost:3002
- **Components Standalone**: http://localhost:3001

## Routes

- `/` → Redirects to `/login`
- `/login` → Login page (username, mobile OTP, or social)
- `/signup` → Sign up page (email/password or social)
- `/dashboard` → Protected dashboard (after login)

## Features

### Login Page
- **Username/Email login** with password
- **Mobile OTP login** (send OTP → verify)
- **Social login** (Google, Facebook, Apple)

### Sign Up Page
- **Email/Password registration** with validation
- **Password confirmation** matching
- **Social sign up** (Google, Facebook, Apple)

### Authentication Features
- **Shared auth state** via AuthContext
- **Token management** with localStorage
- **useAuth hook** for accessing auth state
- **Navigation** after successful auth
- **Error handling** with user feedback

## Color Palette (Summer Sunset)

```css
--atomic-tangerine: #ff6b35
--peach-glow: #f7c59f
--beige: #efefd0
--dusk-blue: #004e89
--baltic-blue: #1a659e
```

## Module Federation Configuration

### Auth App (Exposes)
```javascript
exposes: {
  './Login': './src/components/Login',
  './SignUp': './src/components/SignUp',
  './AuthProvider': './src/context/AuthContext',
  './useAuth': './src/hooks/useAuth',
}
```

### Platform (Consumes)
```javascript
remotes: {
  authApp: 'authApp@http://localhost:3002/remoteEntry.js',
}
```

## Next Steps

1. **API Integration**: Replace mock auth in `AuthContext.jsx` with real API calls
2. **Protected Routes**: Add route guards for authenticated pages
3. **Password Reset**: Add forgot password functionality
4. **Email Verification**: Add email verification flow
5. **Social OAuth**: Integrate real OAuth providers
6. **Token Refresh**: Implement token refresh logic
7. **Remove Old Components**: Delete old Login from components folder

## Development Notes

- Auth runs independently on port 3002
- Platform imports auth components via Module Federation
- Shared dependencies (React, React-DOM, React-Router) are singletons
- Tailwind CSS configured with Summer Sunset colors
- AuthContext provides global auth state to all consuming apps


## Cloning Git hub

How to Clone a GitHub Repository Using a Personal Access Token (PAT)

To clone a GitHub repository, you use the `git clone` command. GitHub has removed support for account passwords for command-line operations and now requires the use of a **Personal Access Token (PAT)** instead.

## Steps to Clone a GitHub Repo using a Personal Access Token

### 1. Generate a Personal Access Token (PAT)
- Navigate to your [GitHub Developer Settings](https://github.com/settings/tokens).
- Select **Personal access tokens** > **Tokens (classic)** > **Generate new token** > **Generate new token (classic)**.
- Give your token a descriptive name, set an expiration, and select the `repo` scope.
- Click **Generate token** and copy the generated token immediately. You will not be able to see it again.

### 2. Copy the Repository URL
- Go to the main page of the repository you want to clone on GitHub and click the green **<> Code** button.
- Select the **HTTPS** option and copy the URL provided.

### 3. Clone the Repository using Git Command Line
- Open your terminal or Git Bash.
- Navigate to the directory where you want to store the repository.
- Run the `git clone` command:

```bash
git clone https://github.com/oraxus-sports/os.git
```
*When prompted for a password, enter your Personal Access Token (PAT), not your GitHub account password.*

Alternatively, you can embed the token directly into the clone URL *(use with caution, as the token might appear in your command history)*:

```bash
git clone https://<your_personal_access_token>@github.com/<your_username>/<repository_name>.git
```

## Your Username and Password
- Your username is what appears in your repository URLs (e.g., `https://github.com`).
- The password for cloning a repository via HTTPS is your Personal Access Token, not your regular account password.